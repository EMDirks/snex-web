<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Gamepad Remotes for Android</title>
  <link href="/style.css" rel="stylesheet" />
  <link href="/demo.css" rel="stylesheet" />

  <script src="//use.fontawesome.com/ee3e691800.js"></script>
  <script src="/scripts/demo-game.js"></script>
  <script src="/scripts/peer.min.js"></script>
</head>
<body
  data-api-key="<%= api_key; %>"
  data-controllers="<%= controllers; %>"
>
  <section class="headline">
    <h1>Gamepads for Android</h1>
    <h3>Control your games with a gamepad on your smart phone.</h3>
  </section>

  <section class="demo">

    <div class="game">
      <div class="screen">
        <div class="log"></div>
        <canvas width="320" height="220"></canvas>
      </div>
    </div>

    <div class="input">
      <div class="skip prev">
          <button data-skip="-1">
            <i class="fa fa-chevron-left"></i>
          </button>
      </div>

      <div class="skip next">
          <button data-skip="1">
            <i class="fa fa-chevron-right"></i>
          </button>
      </div>

      <div class="overlay">
        <div class="controllers">
          <template class="controller">
            <div class="controller hidden">
              <div class="window">
                <iframe src="" width="604" height="340"></iframe>
              </div>

              <div class="link">
                <a href=""></a>
              </div>
            </div>
          </template>

        </div>
      </div>

    </div>
  </section>

  <section class="get-started">
    <h2>Get started</h2>

    <section class="steps">

      <div class="step">
        <h3>Include Peer.js Script</h3>
        <code><%=
          `<script src="http://cdn.peerjs.com/0.3/peer.min.js"></script>`
        %></code>
      </div>

      <div class="step">
        <h3>Create Session</h3>
        <code>var peer = new Peer({key: 'lwjd5qra8257b9'});
peer.on('open', function(id) {
  var url = 'http://gamepad.pomle.com/nes/?key=lwjd5qra8257b9&amp;id=' + id;
  console.info('Go to url', url);
});
</code>
      </div>

      <div class="step">
        <h3>Listen to Events</h3>
        <code>peer.on('connection', function(conn) {
  conn.on('data', function(data) {
    if (data.key === 'A' && data.state === 'keydown') {
      game.character.jump();
    }
  });
});</code>
      </div>
    </section>

  </section>
</body>
</html>
